const htmlPreview=document.querySelector(".preview"),textarea=htmlPreview.querySelector("#preview"),resizeButton=htmlPreview.querySelector("#resize-preview"),htmlEditor=document.querySelector(".editor"),textareaEditor=htmlEditor.querySelector("#editor"),resizeButtonEditor=htmlEditor.querySelector("#resize-editor"),Editor={htmlEditor:htmlEditor,textareaEditor:textareaEditor,resizeButtonEditor:resizeButtonEditor,openFullView(){Preview.hideWindow(),this.htmlEditor.classList.toggle("full-view")},textareaOnFirstLoad(){dispatch(handleOutputValue(marked(this.textareaEditor.value)))},textareaOnChange(){this.textareaEditor.addEventListener("keyup",({target:{value:e}})=>{dispatch(handleInputValue(e)),dispatch(handleOutputValue(marked(e)))})},hideWindow(){this.htmlEditor.classList.toggle("display-none")},onEventListener(){this.textareaOnChange(),this.resizeButtonEditor.addEventListener("click",()=>{this.openFullView()})}},Preview={htmlPreview:htmlPreview,textarea:textarea,resizeButton:resizeButton,openFullView(){Editor.hideWindow(),this.htmlPreview.classList.toggle("full-view")},hideWindow(){this.htmlPreview.classList.toggle("display-none")},updateOutput(e){this.textarea.innerHTML=e},onEventListener(){this.resizeButton.addEventListener("click",()=>{this.openFullView()})}},TYPES={editorOnChange:"[Editor] On Change",previewSetOuput:"[Preview] Set Ouput"},handleInputValue=e=>({type:TYPES.editorOnChange,payload:e}),handleOutputValue=e=>({type:TYPES.previewSetOuput,payload:e}),editorReducer=(e={markdownText:""},t)=>{switch(t.type){case TYPES.editorOnChange:return{markdownText:t.payload};default:return e}},previewReducer=(e={output:""},t)=>{switch(t.type){case TYPES.previewSetOuput:return{output:t.payload};default:return e}},{createStore:createStore,combineReducers:combineReducers}=Redux,reducers=combineReducers({editor:editorReducer,preview:previewReducer}),store=createStore(reducers),{subscribe:onUpdateStore,dispatch:dispatch}=store,render=()=>{const{preview:e}=store.getState();Preview.updateOutput(e.output)};Preview.onEventListener(),Editor.onEventListener(),onUpdateStore(render),Editor.textareaOnFirstLoad();